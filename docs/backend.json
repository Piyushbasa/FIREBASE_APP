
{
  "entities": {
    "Transaction": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Transaction",
      "type": "object",
      "description": "Represents a single financial transaction (income or expense).",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user who recorded the transaction."
        },
        "type": {
          "type": "string",
          "enum": ["income", "expense"],
          "description": "The type of transaction."
        },
        "category": {
          "type": "string",
          "description": "The category of the transaction (e.g., Seed Purchase, Crop Sale)."
        },
        "amount": {
          "type": "number",
          "description": "The amount of the transaction."
        },
        "date": {
          "type": "object",
          "description": "The timestamp when the transaction occurred."
        },
        "description": {
          "type": "string",
          "description": "A brief description of the transaction."
        }
      },
      "required": ["userId", "type", "category", "amount", "date"]
    },
    "Post": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Post",
      "type": "object",
      "description": "Represents a single post in the community forum.",
      "properties": {
        "content": {
          "type": "string",
          "description": "The main content of the post."
        },
        "authorId": {
          "type": "string",
          "description": "The UID of the user who created the post."
        },
        "authorName": {
          "type": "string",
          "description": "The display name or email of the user who created the post."
        },
        "createdAt": {
          "type": "object",
          "description": "The timestamp when the post was created. This should be a Firestore ServerTimestamp."
        }
      },
      "required": ["content", "authorId", "authorName", "createdAt"]
    },
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user's profile information.",
      "properties": {
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "location": {
          "type": "string",
          "description": "The user's primary location for farming activities."
        },
        "language": {
          "type": "string",
          "description": "The user's preferred language for AI interactions.",
          "enum": ["English", "Hindi", "Odia", "Bengali", "Tamil"]
        }
      },
      "required": ["email"]
    },
    "UserField": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserField",
      "type": "object",
      "description": "Represents a user's agricultural field.",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The UID of the user who owns the field."
        },
        "fieldName": {
          "type": "string",
          "description": "The name of the field."
        },
        "fieldSize": {
          "type": "number",
          "description": "The size of the field in acres."
        },
        "imageUrl": {
            "type": "string",
            "description": "URL of a representative image for the field.",
            "format": "uri"
        },
        "vegetationIndex": {
            "type": "number",
            "description": "A simulated NDVI value for crop health."
        },
        "moistureLevel": {
            "type": "number",
            "description": "A simulated soil moisture percentage."
        },
        "createdAt": {
          "type": "object",
          "description": "The timestamp when the field was added."
        }
      },
      "required": ["userId", "fieldName", "fieldSize", "imageUrl", "vegetationIndex", "moistureLevel", "createdAt"]
    },
    "UserMachinery": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserMachinery",
      "type": "object",
      "description": "Represents a piece of farm machinery available for rent.",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "description": "The name of the machinery (e.g., John Deere 5050D)."
        },
        "type": {
          "type": "string",
          "description": "The type of machinery (e.g., Tractor, Harvester, Seeder)."
        },
        "dealer": {
          "type": "string",
          "description": "The name of the rental provider or dealer."
        },
        "location": {
          "type": "string",
          "description": "The location of the dealer."
        },
        "hourlyRate": {
          "type": "number",
          "description": "The rental cost per hour in INR."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of an image of the machinery."
        }
      },
      "required": ["id", "name", "type", "dealer", "location", "hourlyRate", "imageUrl"]
    },
    "CommodityPrice": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CommodityPrice",
      "type": "object",
      "description": "Represents the price of a specific commodity at a specific time.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the CommodityPrice entity."
        },
        "commodityName": {
          "type": "string",
          "description": "The name of the commodity (e.g., rice, corn)."
        },
        "price": {
          "type": "number",
          "description": "The price of the commodity."
        },
        "unit": {
          "type": "string",
          "description": "The unit of measurement for the price (e.g., USD/ton)."
        },
        "timestamp": {
          "type": "string",
          "description": "The timestamp when the price was recorded.",
          "format": "date-time"
        },
        "location": {
          "type": "string",
          "description": "The location where the commodity price is applicable."
        }
      },
      "required": [
        "id",
        "commodityName",
        "price",
        "unit",
        "timestamp",
        "location"
      ]
    },
    "FieldImage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FieldImage",
      "type": "object",
      "description": "Represents an image of a farmer's field.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the FieldImage entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N FieldImage)"
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the field image.",
          "format": "uri"
        },
        "uploadTimestamp": {
          "type": "string",
          "description": "Timestamp when the image was uploaded.",
          "format": "date-time"
        },
        "latitude": {
          "type": "number",
          "description": "Latitude of the field location."
        },
        "longitude": {
          "type": "number",
          "description": "Longitude of the field location."
        }
      },
      "required": [
        "id",
        "userId",
        "imageUrl",
        "uploadTimestamp",
        "latitude",
        "longitude"
      ]
    },
    "CropSuggestion": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CropSuggestion",
      "type": "object",
      "description": "Represents a crop suggestion based on various factors.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the CropSuggestion entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N CropSuggestion)"
        },
        "cropName": {
          "type": "string",
          "description": "The name of the suggested crop."
        },
        "reasoning": {
          "type": "string",
          "description": "The reasoning behind the crop suggestion (e.g., soil conditions, weather patterns)."
        },
        "confidenceScore": {
          "type": "number",
          "description": "A score indicating the confidence level of the suggestion."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp when the suggestion was generated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "cropName",
        "reasoning",
        "confidenceScore",
        "timestamp"
      ]
    },
    "WeatherData": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WeatherData",
      "type": "object",
      "description": "Represents weather data for a specific location and time.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the WeatherData entity."
        },
        "location": {
          "type": "string",
          "description": "The location for which the weather data is recorded (e.g., latitude, longitude)."
        },
        "temperature": {
          "type": "number",
          "description": "The temperature in Celsius or Fahrenheit."
        },
        "humidity": {
          "type": "number",
          "description": "The humidity percentage."
        },
        "windSpeed": {
          "type": "number",
          "description": "The wind speed in km/h or mph."
        },
        "precipitation": {
          "type": "number",
          "description": "The amount of precipitation in mm or inches."
        },
        "timestamp": {
          "type": "string",
          "description": "The timestamp when the weather data was recorded.",
          "format": "date-time"
        },
        "sunriseTime": {
          "type": "string",
          "description": "The time of sunrise.",
          "format": "date-time"
        },
        "sunsetTime": {
          "type": "string",
          "description": "The time of sunset.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "location",
        "temperature",
        "humidity",
        "windSpeed",
        "precipitation",
        "timestamp",
        "sunriseTime",
        "sunsetTime"
      ]
    },
    "PesticideInfo": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PesticideInfo",
      "description": "Provides information about pesticides for a specific crop and pest.",
      "type": "object",
      "properties": {
        "crop": {
          "type": "string",
          "description": "The crop that needs treatment."
        },
        "pestOrDisease": {
          "type": "string",
          "description": "The specific pest or disease affecting the crop."
        },
        "fieldArea": {
          "type": "number",
          "description": "The area of the field in acres."
        },
        "recommendations": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "pesticideName": {
                "type": "string",
                "description": "The commercial name of the recommended pesticide."
              },
              "chemicalName": {
                "type": "string",
                "description": "The active chemical ingredient in the pesticide."
              },
              "type": {
                "type": "string",
                "enum": ["Insecticide", "Fungicide", "Herbicide", "Organic"],
                "description": "The type of pesticide."
              },
              "applicationRate": {
                "type": "string",
                "description": "The recommended application rate (e.g., 'ml/acre' or 'g/acre')."
              },
              "totalAmount": {
                "type": "string",
                "description": "The total calculated amount needed for the specified field area."
              },
              "safetyPrecautions": {
                "type": "string",
                "description": "Key safety precautions to follow during application."
              }
            },
            "required": ["pesticideName", "chemicalName", "type", "applicationRate", "totalAmount", "safetyPrecautions"]
          }
        }
      },
      "required": ["crop", "pestOrDisease", "fieldArea", "recommendations"]
    },
    "AnalyzeField": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AnalyzeField",
      "description": "Provides an AI-powered analysis of a user's field based on simulated sensor data.",
      "type": "object",
      "properties": {
        "fieldName": {
          "type": "string",
          "description": "The name of the user's field."
        },
        "vegetationIndex": {
          "type": "number",
          "description": "The simulated Normalized Difference Vegetation Index (NDVI) of the field. Ranges from 0 to 1."
        },
        "moistureLevel": {
          "type": "number",
          "description": "The simulated soil moisture percentage."
        },
        "analysis": {
          "type": "string",
          "description": "A concise, one or two-sentence summary of the field's current condition."
        },
        "recommendations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of 2-3 actionable recommendations for the farmer based on the data."
        }
      },
      "required": ["fieldName", "vegetationIndex", "moistureLevel", "analysis", "recommendations"]
    },
    "CarbonSequestration": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CarbonSequestration",
      "description": "Estimates the carbon sequestration potential of a farm based on various factors.",
      "type": "object",
      "properties": {
        "cropType": {
          "type": "string",
          "description": "The primary type of crop being grown."
        },
        "fieldSize": {
          "type": "number",
          "description": "The size of the field in acres."
        },
        "practices": {
          "type": "array",
          "items": { "type": "string" },
          "description": "A list of sustainable farming practices being used."
        },
        "estimatedSequestration": {
          "type": "number",
          "description": "The estimated tons of CO2 equivalent sequestered per year."
        },
        "analysis": {
          "type": "string",
          "description": "A brief analysis of the carbon impact and suggestions for improvement."
        }
      },
      "required": ["cropType", "fieldSize", "practices", "estimatedSequestration", "analysis"]
    },
    "ProductTrace": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProductTrace",
      "description": "Represents a traceability log for a batch of agricultural produce.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "productName": { "type": "string" },
        "batchId": { "type": "string" },
        "harvestDate": { "type": "object" },
        "events": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "eventName": { "type": "string" },
              "date": { "type": "object" },
              "notes": { "type": "string" }
            },
            "required": ["eventName", "date"]
          }
        }
      },
      "required": ["userId", "productName", "batchId", "harvestDate", "events"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "collections": {
      "posts": {
        "schema": {
          "$ref": "#/entities/Post"
        },
        "description": "Stores all posts for the community forum. Publicly readable, but only authenticated users can create posts. Users can only edit or delete their own posts."
      },
      "userProfile": {
        "collections": {
          "{userId}": {
            "schema": {
              "$ref": "#/entities/UserProfile"
            },
            "description": "Stores public profile information for a user, such as their location.",
            "collections": {
              "fields": {
                "schema": {
                  "$ref": "#/entities/UserField"
                },
                "description": "Stores the fields belonging to a specific user."
              },
               "transactions": {
                "schema": {
                  "$ref": "#/entities/Transaction"
                },
                "description": "Stores the financial transactions for a specific user."
              },
              "traces": {
                "schema": {
                  "$ref": "#/entities/ProductTrace"
                },
                "description": "Stores traceability logs for a user's products."
              }
            }
          }
        }
      }
    }
  }
}
