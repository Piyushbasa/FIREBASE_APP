
{
  "entities": {
    "Post": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Post",
      "type": "object",
      "description": "Represents a single post in the community forum.",
      "properties": {
        "content": {
          "type": "string",
          "description": "The main content of the post."
        },
        "authorId": {
          "type": "string",
          "description": "The UID of the user who created the post."
        },
        "authorName": {
          "type": "string",
          "description": "The display name or email of the user who created the post."
        },
        "createdAt": {
          "type": "object",
          "description": "The timestamp when the post was created. This should be a Firestore ServerTimestamp."
        }
      },
      "required": ["content", "authorId", "authorName", "createdAt"]
    },
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user profile in the AgriAssist application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the UserProfile entity."
        },
        "userName": {
          "type": "string",
          "description": "The user's username."
        },
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "location": {
          "type": "string",
          "description": "The user's general location (e.g., city, state)."
        }
      },
      "required": ["id", "userName", "email", "location"]
    },
    "CommodityPrice": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CommodityPrice",
      "type": "object",
      "description": "Represents the price of a specific commodity at a specific time.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the CommodityPrice entity."
        },
        "commodityName": {
          "type": "string",
          "description": "The name of the commodity (e.g., rice, corn)."
        },
        "price": {
          "type": "number",
          "description": "The price of the commodity."
        },
        "unit": {
          "type": "string",
          "description": "The unit of measurement for the price (e.g., USD/ton)."
        },
        "timestamp": {
          "type": "string",
          "description": "The timestamp when the price was recorded.",
          "format": "date-time"
        },
        "location": {
          "type": "string",
          "description": "The location where the commodity price is applicable."
        }
      },
      "required": [
        "id",
        "commodityName",
        "price",
        "unit",
        "timestamp",
        "location"
      ]
    },
    "FieldImage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FieldImage",
      "type": "object",
      "description": "Represents an image of a farmer's field.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the FieldImage entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N FieldImage)"
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the field image.",
          "format": "uri"
        },
        "uploadTimestamp": {
          "type": "string",
          "description": "Timestamp when the image was uploaded.",
          "format": "date-time"
        },
        "latitude": {
          "type": "number",
          "description": "Latitude of the field location."
        },
        "longitude": {
          "type": "number",
          "description": "Longitude of the field location."
        }
      },
      "required": [
        "id",
        "userId",
        "imageUrl",
        "uploadTimestamp",
        "latitude",
        "longitude"
      ]
    },
    "CropSuggestion": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CropSuggestion",
      "type": "object",
      "description": "Represents a crop suggestion based on various factors.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the CropSuggestion entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N CropSuggestion)"
        },
        "cropName": {
          "type": "string",
          "description": "The name of the suggested crop."
        },
        "reasoning": {
          "type": "string",
          "description": "The reasoning behind the crop suggestion (e.g., soil conditions, weather patterns)."
        },
        "confidenceScore": {
          "type": "number",
          "description": "A score indicating the confidence level of the suggestion."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp when the suggestion was generated.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "cropName",
        "reasoning",
        "confidenceScore",
        "timestamp"
      ]
    },
    "WeatherData": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WeatherData",
      "type": "object",
      "description": "Represents weather data for a specific location and time.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the WeatherData entity."
        },
        "location": {
          "type": "string",
          "description": "The location for which the weather data is recorded (e.g., latitude, longitude)."
        },
        "temperature": {
          "type": "number",
          "description": "The temperature in Celsius or Fahrenheit."
        },
        "humidity": {
          "type": "number",
          "description": "The humidity percentage."
        },
        "windSpeed": {
          "type": "number",
          "description": "The wind speed in km/h or mph."
        },
        "precipitation": {
          "type": "number",
          "description": "The amount of precipitation in mm or inches."
        },
        "timestamp": {
          "type": "string",
          "description": "The timestamp when the weather data was recorded.",
          "format": "date-time"
        },
        "sunriseTime": {
          "type": "string",
          "description": "The time of sunrise.",
          "format": "date-time"
        },
        "sunsetTime": {
          "type": "string",
          "description": "The time of sunset.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "location",
        "temperature",
        "humidity",
        "windSpeed",
        "precipitation",
        "timestamp",
        "sunriseTime",
        "sunsetTime"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "collections": {
      "posts": {
        "schema": {
          "$ref": "#/entities/Post"
        },
        "description": "Stores all posts for the community forum. Publicly readable, but only authenticated users can create posts. Users can only edit or delete their own posts."
      },
       "users": {
        "collections": {
          "{userId}": {
            "schema": {
              "$ref": "#/entities/UserProfile"
            },
            "description": "Stores public profile information for a user."
          }
        }
      }
    }
  }
}
